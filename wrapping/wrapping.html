<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>ccall and cwrap</title>
        <script src="wrapping.js"></script>
    </head>
    <body>
        <p>Hello WebAssembly ! </p>
        <script>
            var addNums = Module.cwrap(
                "addNums",
                "number",
                ["number", "number"]
            );

            var subNums = Module.cwrap(
                "subNums",
                "number",
                ["number", "number"]
            );

            function run_wasm() {
                var a = document.getElementById("a").value;
                var b = document.getElementById("b").value;
               /* 
                var result = Module.ccall(
                    "addNums",
                    "number",
                    ["number","number"],
                    [a, b]
                );
                */

                // using cwrap
                result = addNums(a, b);
                console.log("Add : " + result);

                result = subNums(a, b);
                console.log("Sub : " + result);
            }
        </script>
        <input type="number" id="a">
        <input type="number" id="b">
        <button onclick="run_wasm()">Trigger</button>
    </body>
</html>